\part{Recursion and induction}
\frame{\partpage}

\begin{frame}{A boolean identity}
    $$ \neg (X_1 \vee X_2 \vee \dots \vee X_n) = \neg X_1 \wedge \neg X_2 \wedge \dots \wedge \neg X_n $$
\end{frame}

\begin{frame}{Proving the identity}
    \begin{itemize}
        \pause\item We can verify the formula for individual values of $n$
        \pause\item (e.g.\ by drawing a truth table with all $2^n$ possible values of $X_1, \dots, X_n$)
        \pause\item How do we \textbf{prove} it for \textbf{all} $n$?
        \pause\item We can use \textbf{proof by induction}
    \end{itemize}
\end{frame}

\begin{frame}{Case $n=1$}
    $$ \neg (X_1) = \neg X_1 $$
\end{frame}

\begin{frame}{Case $n=2$}
    $$ \neg (X_1 \vee X_2) = \neg X_1 \wedge \neg X_2 $$
    \pause
    \begin{center}
        Exercise Sheet ii, question 3(a)
    \end{center}
\end{frame}

\begin{frame}{Case $n = k, k > 2$}
    \begin{itemize}
        \pause\item Suppose we have already proved the formula for all $n < k$
        \pause\item Use this to show that the formula holds for $n = k$
    \end{itemize}
    \pause
    \begin{align*}
        \neg (X_1 \vee X_2 \vee \dots \vee X_k) &= \neg (X_1 \vee (X_2 \vee \dots \vee X_k)) \\ 
            &= \neg X_1 \wedge \neg (X_2 \vee \dots \vee X_k) \text{ ($n=2$ case)} \\ 
            &= \neg X_1 \wedge (\neg X_2 \wedge \dots \wedge \neg X_k) \text{ ($n=k-1$ case)}
    \end{align*}
\end{frame}

\begin{frame}{Completing the proof}
    \begin{itemize}
        \pause\item We know:
            \begin{itemize}
                \pause\item The formula works for $n=1$ and $n=2$
                \pause\item If the formula works for $n=k-1$, then it works for $n=k$
            \end{itemize}
        \pause\item The formula works for $n=1$ and $n=2$
        \pause\item Therefore the formula works for $n=2+1=3$
        \pause\item Therefore the formula works for $n=3+1=4$
        \pause\item ...
        \pause\item Therefore the formula works for all positive integers $n$
    \end{itemize}
\end{frame}

\begin{frame}{A formula for summation}
$$ \sum_{i=1}^n i = \frac12 n (n+1) $$
\pause
\begin{itemize}
	\pause\item $n=1$: $1 = \frac12 \times 1 \times 2$
	\pause\item $n=2$: $1+2 = \frac12 \times 2 \times 3 = 3$
	\pause\item $n=3$: $1+2+3 = \frac12 \times 3 \times 4 = 6$
	\pause\item ...
\end{itemize}
\end{frame}

\begin{frame}{Proving the formula}
\begin{itemize}
	\pause\item We can verify the formula for individual values of $n$
	\pause\item How do we \textbf{prove} it for \textbf{all} $n$?
	\pause\item We can use \textbf{proof by induction}
\end{itemize}
\end{frame}

\begin{frame}{Proving the formula}
\pause\textbf{Base case}
\begin{itemize}
	\pause\item $n=1$: $1 = \frac12 \times 1 \times 2$
\end{itemize}
\pause\textbf{Inductive assumption}
\begin{itemize}
	\pause\item $\sum_{i=1}^{k-1} i = \frac12 (k-1) k$
\end{itemize}
\pause\textbf{Therefore}
\begin{itemize}
	\pause\item $\sum_{i=1}^k i = \left( \sum_{i=1}^{k-1} i \right) + k$
	\pause\item $= \frac12 (k-1) k + k$ (by inductive assumption)
	\pause\item $= \frac12 k^2 - \frac12 k + k$
	\pause\item $= \frac12 k^2 + \frac12 k$
	\pause\item $= \frac12 k (k-1)$
\end{itemize}
\pause So \textbf{if} the formula works for $n=k-1$, \textbf{then} it works for $n=k$
\end{frame}

\begin{frame}{Completing the proof}
\begin{itemize}
	\pause\item We know:
		\begin{itemize}
			\pause\item The formula works for $n=1$
			\pause\item If the formula works for $n=k-1$, then it works for $n=k$
		\end{itemize}
	\pause\item The formula works for $n=1$
	\pause\item Therefore the formula works for $n=1+1=2$
	\pause\item Therefore the formula works for $n=2+1=3$
	\pause\item Therefore the formula works for $n=3+1=4$
	\pause\item ...
	\pause\item Therefore the formula works for all positive integers $n$
\end{itemize}
\end{frame}

\begin{frame}{Exercise}
Prove
$$ \sum_{i=1}^n i^2 = \frac{n(n+1)(2n+1)}{6} $$
\end{frame}

\begin{frame}{Thinking inductively}
	\begin{itemize}
		\pause\item I want to prove something for all $n$
		\pause\item Given $k$, if I had already proved $n=k-1$ then I could prove $n=k$
		\pause\item I can also prove $n=1$
		\pause\item Therefore by induction I can prove the result for all $n$
	\end{itemize}
\end{frame}

\begin{frame}[fragile]{Recursion}
    \begin{itemize}
        \pause\item A \textbf{recursive} function is a function that \textbf{calls itself}
    \end{itemize}
    \pause
    \begin{lstlisting}
def factorial(n):
    if n <= 1:
        return 1
    else:
        return n * factorial(n-1)
    \end{lstlisting}
\end{frame}

\begin{frame}{Thinking recursively}
	\begin{itemize}
		\pause\item I want to solve a problem
		\pause\item If I already had a function to solve smaller instances of the problem, I could use it
			to write my function
		\pause\item I can solve the smallest possible problem
		\pause\item Therefore I can write a recursive function
	\end{itemize}
\end{frame}

\begin{frame}{Exercise}
	\begin{itemize}
		\item \textbf{Write} a pseudocode function to calculate the total size of all files in a directory and its subdirectories
		\item You may use the following functions in your pseudocode:
			\begin{itemize}
				\item \Call{ListDir}{directory}: return a list of names of all files and folders in the given directory
				\item \Call{GetSize}{filename}: return the size, in bytes, of the given file
				\item \Call{IsDir}{name}, \Call{IsFile}{name}: determine whether the given name refers to a file or a directory
			\end{itemize}
	\end{itemize}
	\begin{algorithmic}
		\Procedure{CalcDirSize}{directory}
			\State ... \Comment{return total size in bytes}
		\EndProcedure
	\end{algorithmic}
\end{frame}

