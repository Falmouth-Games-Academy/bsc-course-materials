% Adjust these for the path of the theme and its graphics, relative to this file
%\usepackage{beamerthemeFalmouthGamesAcademy}
\usepackage{../../beamerthemeFalmouthGamesAcademy}
\usepackage{multimedia}
\graphicspath{ {../../} }

% Default language for code listings
\lstset{language=C++,
        morekeywords={each,in,nullptr}
}

% For strikethrough effect
\usepackage[normalem]{ulem}
\usepackage{wasysym}

\usepackage{pdfpages}

% http://www.texample.net/tikz/examples/state-machine/
\usetikzlibrary{arrows,automata}

\input{sessioninfo}

\setbeamertemplate{navigation symbols}{}

\input{../../commands}

\begin{document}
\title{\sessionnumber: Tinkering Graphics III}
\subtitle{\modulecode: \moduletitle}

\frame{\titlepage} 

\begin{frame}
	\frametitle{Learning Outcomes}
	\begin{itemize}
		\item \textbf{Apply} iteration \textbf{and} nested iteration to \textbf{write} a program that manipulates part of a raster image
		\item \textbf{Copy} an image from one array to another
	\end{itemize}
\end{frame}

\part{Question}
\frame{\partpage}

\fullbleed{moon_flowers}

\begin{frame}[fragile]
	\frametitle{Source Code: Moonflower}
	
\begin{lstlisting}
def make_flowers_moon_colour(picture):
  moon_pixel_matrix = get_pixels(MOON)
  pixel_matrix = get_pixels(picture)
  for pixel in pixel_matrix:
    # (1) if distance(get_colour(pixel), RED) > 200:
    # (2) if get_red(pixel) > 100 and ( get_blue(p) + get_green(p) < 100 ):
    # (3) if get_red(pixel) > 150 and ( get_blue(p) + get_green(p) < 200):
    # (4) if get_red(pixel) > ( get_blue(p) + get_green(p) ):
        x = get_x(pixel)
        y = get_y(pixel)
        moon_colour = get_colour(get_pixel(moon_pixel_matrix, x, y))
        set_pixel_colour(pixel, moon_colour)
\end{lstlisting}

Note: This source code excerpt will not work in PyGame.

\end{frame}

\begin{frame}{Question: Moon Flower}
	Socrative room code: \texttt{---}
	
	\vspace{2em}
	
	Which of the below conditions were used to generate the moon flower effect:
	
	\begin{itemize}
    		\item (1) \lstinline{if distance(get_colour(pixel), RED) > 200:}
    		\item (2) \lstinline{if get_red(pixel) > 100 and ( get_blue(p) + get_green(p) < 100 ):}
    		\item (3) \lstinline{if get_red(pixel) > 150 and ( get_blue(p) + get_green(p) < 200):}
    		\item (4) \lstinline{if get_red(pixel) > ( get_blue(p) + get_green(p) ):}
	\end{itemize}
\end{frame}

\part{General Assignment Support}
\frame{\partpage}

\begin{frame}
	\frametitle{Questionnaire}
	\begin{itemize}
		\item Check your emails!
		\item Please complete the mid-term questionnaire that has been sent to you
		\item These will feeds-forward into the design for next semester
		\item Forward any concerns and/or issues and/or suggestions to your student reps
	\end{itemize}
\end{frame}

\begin{frame}
	\frametitle{General Assessment Support}
	\begin{itemize}
		\item Continue work on your tinkering graphics assignment with your pair programming partner
		\item Ensure that both partners have pushed new code to the repository
		\item Create a pull-request before the end of the session
	\end{itemize}
\end{frame}

\part{Question}
\frame{\partpage}

\fullbleed{lecture_hall}

\begin{frame}[fragile]
	\frametitle{Source Code: Manipulation (1)}
	
\begin{lstlisting}
def manipulate(picture):
  width = get_width(picture)
  height = get_height(picture)
  for x in xrange(0, width):
      for y in xrange(0, height / 2):
          pixel = get_pixel(picture, x, y)
          red = get_red(pixel)
          set_red(pixel, red / 2)
      for y in xrange(height / 2, height):
          pixel = get_pixel(picture, x, y)
          red = get_red(pixel)
          set_red(pixel, red * 2)
\end{lstlisting}

Note: This source code excerpt will not work in PyGame.

\end{frame}

\begin{frame}[fragile]
	\frametitle{Source Code: Manipulation (2)}
	
\begin{lstlisting}
def manipulate(picture):
  width = get_width(picture)
  height = get_height(picture)
  for x in xrange(0, width / 2):
      for y in xrange(0, height / 2):
          pixel = get_pixel(picture, x, y)
          red = get_red(pixel)
          set_red(pixel, red * 2)
      for y in xrange(height / 2, height):
          pixel = get_pixel(picture, x, y)
          red = get_red(pixel)
          set_red(pixel, red / 2)
\end{lstlisting}

Note: This source code excerpt will not work in PyGame.

\end{frame}

\begin{frame}[fragile]
	\frametitle{Source Code: Manipulation (3)}
	
\begin{lstlisting}
def manipulate(picture):
  width = get_width(picture)
  height = get_height(picture)
  for x in xrange(0, width):
      for y in xrange(0, height / 3):
          pixel = get_pixel(picture, x, y)
          red = get_red(pixel)
          set_red(pixel, red * 2)
      for y in xrange(height / 2, height):
          pixel = get_pixel(picture, x, y)
          red = get_red(pixel)
          set_red(pixel, red / 2)
\end{lstlisting}

Note: This source code excerpt will not work in PyGame.

\end{frame}

\begin{frame}{Question: Manipulation}
	Socrative room code: \texttt{---}
	
	\vspace{2em}
	
	Which of the code listings manipulated the lecture hall image:
	
	\begin{itemize}
    		\item (1)
    		\item (2)
    		\item (3)
	\end{itemize}
\end{frame}

\part{Segmentation and Collages}
\frame{\partpage}

\fullbleed{mirror}

\begin{frame}[fragile]
	\frametitle{Source Code: Mirroring (1)}
	
\begin{lstlisting}
def mirror_vertical(picture):
  width = get_width(picture)
  height = get_height(picture)
  mirror_point = width / 2
  for y in xrange(0, height):
      for x in xrange(0, mirror_point):
          left_pixel = get_pixel(picture, x, y)
          right_pixel = get_pixel(picture, width - x - 1, y)
          set_colour(right_pixel, get_colour(left_pixel))
\end{lstlisting}

\end{frame}

\begin{frame}[fragile]
	\frametitle{Source Code: Mirroring (2)}
	
\begin{lstlisting}
def mirror_vertical(picture):
  width = get_width(picture)
  height = get_height(picture)
  mirror_point = height / 2
  for x in xrange(0, width):
      for y in xrange(0, mirror_point):
          top_pixel = get_pixel(picture, x, y)
          bottom_pixel = get_pixel(picture, x, height - y - 1)
          set_colour(bottom_pixel, get_colour(top_pixel))
\end{lstlisting}

\end{frame}

\begin{frame}
	\frametitle{Activity: Mirroring}
	
	In pairs:
	
	\vspace{2em}
	
	\begin{itemize}		
		\item Integrate mirroring into your tinkering graphics project
		\item Add an argument to change which side of the mirror is rendered (i.e., left-into-right, or right-into-left)
		\item 20 minutes
	\end{itemize}
\end{frame}

\fullbleed{repair_the_temple}

\begin{frame}
	\frametitle{Activity: Mirroring}
	
	In pairs:
	
	\vspace{2em}
	
	\begin{itemize}		
		\item Use your function to repair the temple
		\item 20 minutes
	\end{itemize}
\end{frame}

\begin{frame}[fragile]
	\frametitle{Source Code: Collage}
	
\begin{lstlisting}
def copyBarb():
  # Set up the source and target pictures
  barbf=getMediaPath("barbara.jpg")
  barb = makePicture(barbf)
  canvasf = getMediaPath("7inX95in.jpg")
  canvas = makePicture(canvasf)
  # Now, do the actual copying
  targetX = 0
  for sourceX in range(0,getWidth(barb)):
    targetY = 0
    for sourceY in range(0,getHeight(barb)):
      color = getColor(getPixel(barb,sourceX,sourceY))
      setColor(getPixel(canvas,targetX,targetY), color)
      targetY = targetY + 1
    targetX = targetX + 1
  show(barb)
  show(canvas)
  return canvas
\end{lstlisting}

\end{frame}

\fullbleed{copy_1}
\fullbleed{copy_2}
\fullbleed{copy_3}
\fullbleed{copy_4}
\fullbleed{copy_5}

\begin{frame}
	\frametitle{Activity: Collage}
	
	In pairs:
	
	\vspace{2em}
	
	\begin{itemize}		
		\item Find some smaller images online
		\item Integrate the copy algorithm into your tinkering graphics project
		\item Create a collage of the images you found
		\item 20 minutes
	\end{itemize}
\end{frame}

\begin{frame}{Sprite Sheets and Animations}
	Review Al Swigart's pyganim python module: 
	
	\vspace{2em}
	
	\url{http://inventwithpython.com/pyganim/}
	
\end{frame}

\begin{frame}
	\frametitle{Activity: Sprite Sheets}
	
	In pairs:
	
	\vspace{2em}
	
	\begin{itemize}		
		\item Find a sprite sheet online
		\item Integrate pyganim into your tinkering graphics project
		\item Animate something
		\item 20 minutes
	\end{itemize}
\end{frame}

\end{document}
