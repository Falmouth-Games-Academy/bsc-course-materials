digraph {
    node [shape=box];
    rankdir=LR
    
    "one.h";
    p0 [shape=ellipse, label="Preprocessor"]
    "two.h";
    p1 [shape=ellipse, label="Preprocessor"]
    "library.h";
    p2 [shape=ellipse, label="Preprocessor"]
    
    "main.cpp" -> "p0" -> "<main.cpp>" -> "c0" -> "main.obj" -> "linker";
    "one.cpp"  -> "p1" -> "<one.cpp>"  -> "c1" -> "one.obj"  -> "linker";
    "two.cpp"  -> "p2" -> "<two.cpp>"  -> "c2" -> "two.obj"  -> "linker";
    
    "one.h" -> p0 [constraint=false]
    "two.h" -> p0 [constraint=false]
    "two.h" -> p1 [constraint=false]
    {rank=same "one.h" p0 "two.h" p1 "library.h" p2}
    
    
    c0 [shape=ellipse, label="Compiler"]
    c1 [shape=ellipse, label="Compiler"]
    c2 [shape=ellipse, label="Compiler"]
    
    "library.h" -> p1 [constraint=false]
    "library.h" -> p2 [constraint=false]
    "library.lib" -> "linker";
    
    "linker" -> "app.exe";
    "linker" [shape=ellipse];
}